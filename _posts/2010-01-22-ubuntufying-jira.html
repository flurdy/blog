---
layout: post
title: Ubuntufying Jira
date: '2010-01-22T18:24:00.014Z'
author: flurdy
tags:
- ubuntu
- code
- jira
modified_time: '2010-01-25T09:40:23.381Z'
blogger_id: tag:blogger.com,1999:blog-4019909.post-3381635725442333629
blogger_orig_url: http://blog.flurdy.com/2010/01/ubuntufying-jira.html
---

This will eventually be published here: <a href="http://flurdy.com/docs/jira/">flurdy.com/docs/jira/</a>.<br /><br /><s>But meanwhile Ill edit a draft here:</s><br /><br /><br /><br />Ok. Ive "finished" the document. Please <a href="http://flurdy.com/docs/jira">read it on my website</a>.<br /><br /><br /><h3>Ignore below</h3><br /><p>Below is my initial draft howto, but a much more up to date version is on <a href="http://flurdy.com/docs/jira">my site</a>.</p><br /><br /><h2>Why</h2><br />I want to install and run <a href="http://www.atlassian.com/jira">Atlassian's Jira</a>, as it is just great. Especially as I many moons ago had paid for the $10 starter pack for Jira and <a href="http://www.atlassian.com/confluence">Confluence</a><br /><br />I want to install and run it on an <a href="http://www.ubuntu.com">Ubuntu</a> server.<br /><br />Downloading the standalone version of Jira works very well. Atlassian has <a href="http://confluence.atlassian.com/display/JIRA">very thorough documentation</a> of every step and issue possible.<br /><br />But I want to be different... No I just like the idea of Ubuntu/debian's package system and obeying the <a href="http://en.wikipedia.org/wiki/Filesystem_Hierarchy_Standard">FHS</a> recommendation of file locations etc. So I decided to modify the download from Atlassian:<br /><br /><h2>Steps</h2><br /><br /><h3>Install Jira as recommended</h3><br />Launch Ubuntu (Follow <a href="http://flurdy.com/docs/ec2/">flurdy ec2 docs</a> for tips on using Ubuntu & ec2)<br /><br />Install java:<br /><code>sudo aptitude install sun-java6-jdk;</code><br /><code>sudo update-alternatives --config java;</code><br /><code>sudo echo JAVA_HOME=/usr/lib/jvm/java-6-sun > /etc/profile.d/java.sh;</code><br /><code>sudo echo EXPORT JAVA_HOME >> /etc/profile.d/java.sh;</code><br /><code>sudo chmod +x /etc/profile.d/java.sh</code><br /><br /><a href="http://www.atlassian.com/software/jira/JIRADownloadCenter.jspa">Download jira standalone</a><br /><br />Extract and move Jira<br /><code>tar xzf atlassian-jira-enterprise-4.0.1-standalone.tar.gz;</code><br /><code>sudo mkdir /opt/atlassian;</code><br /><code>sudo mv atlassian-jira*-standalone /opt/atlassian/jira-4.0.1</code><br /><br />Add Jira user<br /><code>sudo /usr/sbin/useradd --create-home --home-dir /usr/local/jira --shell /bin/bash jira;</code><br /><code>sudo chown -R jira:jira /opt/atlassian/jira-4.0.1</code><br /><br /><br />If you are not interested in seperating the file locations etc, then you could now run Jira by launching <br /><code>sudo /opt/atlassian/jira-4.0.1/bin/startup.sh</code><br />But I prefer not to...<br /><br /><br /><h3>Makign the install more FHSish</h3><br /><br />Create folder for changeable data<br /><code>sudo mkdir /etc/opt/atlassian /etc/opt/atlassian/jira;</code><br /><code>sudo mkdir /var/opt/atlassian /var/opt/atlassian/jira;</code><br /><code>sudo chown jira:jira /etc/opt/atlassian/jira /var/opt/atlassian/jira</code><br /><br /><br />Move logs<br /><code>sudo mv /opt/atlassian/jira-4.0.1/logs /var/log/jira;</code><br /><code>sudo touch /var/log/jira/atlassian-jira.log;</code><br /><code>sudo chown jira:jira /var/log/jira/atlassian-jira.log;</code><br /><code>sudo ln -s /var/log/jira/atlassian-jira.log /opt/atlassian/jira-4.0.1/atlassian-jira.log;</code><br /><br /><br />Link configurations<br /><code>sudo ln -s /opt/atlassian/jira-4.0.1/atlassian-jira/WEB-INF/classes/jira-application.properties\<br />      /etc/opt/atlassian/jira/;</code><br /><code>sudo ln -s /opt/atlassian/jira-4.0.1/atlassian-jira/WEB-INF/classes/log4j.properties\<br />     /etc/opt/atlassian/jira/;</code><br /><code>sudo mv  /opt/atlassian/jira-4.0.1/conf\<br />     /etc/opt/atlassian/jira/tomcat;</code><br /><code>sudo ln -s /etc/opt/atlasiian/jira/tomcat\<br />     /opt/atlassian/jira-4.0.1/conf</code><br /><br /><br />Edit configuration and enter Jira home<br /><code>sudo vi /etc/opt/atlassian/jira/jira-application.properties;</code><br /><code>jira.home=<i>/var/opt/atlassian/jira</i></code><br /><br /><br />Move the database<br /><code>sudo mkdir /var/lib/hsqldb;</code><br /><code>sudo mkdir /var/lib/hsqldb/jira;</code><br /><code>sudo chown jira:jira /var/lib/hsqldb/jira;</code><br /><code>sudo ln -s /var/lib/hsqldb/jira\<br />     /opt/atlassian/jira-4.0.1/database</code><br /><br /><br />Move non static tomcat files<br /><code>sudo mkdir /var/opt/atlassian/jira-tomcat;</code><br /><code>sudo mv /opt/atlassian/jira-4.0.1/work\<br />     /var/opt/atlassian/jira-tomcat/;</code><br /><code>sudo mv /opt/atlassian/jira-4.0.1/temp\<br />     /var/opt/atlassian/jira-tomcat/;</code><br /><code>sudo ln -s /var/opt/atlassian/jira-tomcat/work\<br />     /opt/atlassian/jira-4.0.1/;</code><br /><code>sudo ln -s /var/opt/atlassian/jira-tomcat/temp\<br />     /opt/atlassian/jira-4.0.1/</code><br /><br /><br /><br /><br /><h3>Init script</h3><br /><br />Copy Atlassian's <a href="http://confluence.atlassian.com/display/JIRA/Starting+JIRA+Standalone+automatically+on+Linux">init.d script</a><br /><br /><br /><h3>Jira port</h3><br />Follo Atlassian's <a href="http://confluence.atlassian.com/display/JIRA/Changing+JIRA+Standalone%27s+port">port page</a>.<br /><br /><br /><br /><h3>Apache proxy</h3><br /><br />Using elements from my own <a href="http://flurdy.com/docs/ec2/apache_tomcat/">tomcat+apache howto</a> and Atlassian's <a href="http://confluence.atlassian.com/display/JIRA/Integrating+JIRA+with+Apache">Apache page</a><br /><br /><br/><br /><br/>